<!DOCTYPE html>
<html lang="en">
<head>
    <title id='Description'>In this sample is demonstrated how to display aggregates in jqxGrid.</title>
    <link rel="stylesheet" href="js/jqwidgets/styles/jqx.base.css" type="text/css" />
    <script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxdata.js"></script> 
    <script type="text/javascript" src="js/jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxscrollbar.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxmenu.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxgrid.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxgrid.edit.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxgrid.selection.js"></script> 
    <script type="text/javascript" src="js/jqwidgets/jqxgrid.aggregates.js"></script> 
    <script type="text/javascript" src="js/jqwidgets/jqxcheckbox.js"></script>
    
    <script type="text/javascript" src="js/jqwidgets/jqxgrid.columnsresize.js"></script>
    <!--script type="text/javascript" src="js/scripts/demos.js"></script>
    <script type="text/javascript" src="generatedata.js"></script-->
    
<script type="text/javascript">
function generatedata(rowscount, hasNullValues) {
    
    var data = new Array();

    for (var i = 0; i < rowscount; i++) {
        var row = {};

        
        row["id"] = i;
        row["available"] = true;
        
        row["firstname"] = "25/07";
        row["lastname"] = "Bridge to Bridge (*4), Beginners * 3";
        row["productname"] = "28/07"; 
        row["available"] = "Start at Torrens Weir. Bakery on O'Connell for breakfast, 44 O'Connell St, North Adelaide";
        row["quantity"] = "29/07 Greenbelt Half Marathon";

        var date = new Date();
        date.setFullYear(2015, Math.floor(Math.random() * 12), Math.floor(Math.random() * 27));
        date.setHours(0, 0, 0, 0);
        row["date"] = date;
       
        data[i] = row;
    }

    return data;
}


</script>
    
    
    <script type="text/javascript">
        $(document).ready(function () {
            // prepare the data
            var data = generatedata(1);
            
            var source =
            {
                localdata: data,
                datatype: "array",
                datafields:
                [
                    { name: 'firstname', type: 'string' },
                    { name: 'lastname', type: 'string' },
                    { name: 'productname', type: 'string' },
                    { name: 'available', type: 'string' },
                    { name: 'quantity', type: 'string' },
                    { name: 'price', type: 'string' }
                ],
                updaterow: function (rowid, rowdata) {
                    // synchronize with the server - send update command   
                }
            };
            
            console.log(data);

            var dataAdapter = new $.jqx.dataAdapter(source);

            // initialize jqxGrid
            $("#jqxgrid").jqxGrid(
            {
                width: "100%",
                source: dataAdapter,     
                showstatusbar: false,
                statusbarheight: 50,
                autorowheight: true,
                autoheight: true,
                editable: false,
                showaggregates: false,
                selectionmode: 'singlecell',
                columns: [
                  { text: 'Date', columntype: 'textbox', datafield: 'firstname', width: 50},
                  { text: 'Plan', datafield: 'lastname', columntype: 'textbox', width: "35%" },
                  { text: 'Date', datafield: 'productname', columntype: 'textbox', width: 50 },
                  { text: 'Plan', datafield: 'available', width:"35%" },
                  { text: 'Race', datafield: 'quantity', columntype: 'textbox' }
                ]
            });
            
            $("#button").click(function () {
				console.log("asdfas");
                $("#jqxgrid").jqxGrid('autoresizecolumns');
            });
        });
        
        	
        
    </script>
</head>
<body class='default'>
    <div id='jqxWidget'>
        <div id="jqxgrid"></div>
    </div>
    <div style="margin-top: 30px;">
            <input id="button" type="button" value="Auto Resize Columns" />
        </div>
</body>
</html>
